
<div align="center">

![Maven](https://img.shields.io/badge/Apache%20Maven-C71A36?style=for-the-badge&logo=apache-maven&logoColor=white)
![Java](https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white)
![Shell](https://img.shields.io/badge/Shell-Script-4EAA25?style=for-the-badge&logo=gnu-bash&logoColor=white)

# Maven Commands

> **Every essential Maven command â€” what it does, what it produces, and when to use it.**

</div>

---

## ğŸ“‹ Table of Contents

- [Command Pattern](#-command-pattern)
- [Core Build Commands](#-core-build-commands)
- [The Most Common Command](#-the-most-common-command)
- [Command Flow Visualization](#-command-flow-visualization)
- [Utility Commands](#-utility-commands)
- [Useful Flags](#-useful-flags)
- [Quick Reference](#-quick-reference)

---

## ğŸ“ Command Pattern

All Maven commands follow this structure:

```
mvn [options] [phase/goal] [phase/goal] ...
```

You can chain multiple phases or goals in one command:

```bash
mvn clean install               # Two phases in sequence
mvn clean package -DskipTests   PRIMARY  # With a flag
```

---

## ğŸ”¨ Core Build Commands

The core commands follow the **default lifecycle** in order. Running any phase automatically runs all phases before it.

---

### `mvn clean`

Deletes the `target/` directory and all its contents â€” compiled classes, JARs, reports, and everything generated by previous builds.

```bash
mvn clean
```

**Output:** Empty project â€” no `target/` directory  
**When to use:** Before starting a fresh build to ensure no old artifacts interfere

---

### `mvn compile`

Compiles all Java source files in `src/main/java/` and outputs `.class` files to `target/classes/`.

```bash
mvn compile
```

**Output:** `target/classes/` containing compiled `.class` files  
**When to use:** To quickly check if your source code compiles without running tests

---

### `mvn test`

Compiles source code AND test code, then runs all unit tests found in `src/test/java/` using the Surefire plugin.

```bash
mvn test
```

**Output:** `target/surefire-reports/` with test results in XML and TXT format  
**When to use:** To verify your code logic is correct before packaging

> âš ï¸ If any test fails, the build stops here and no JAR is produced. This is intentional â€” broken tests block broken code from being shipped.

---

### `mvn package`

Runs `validate â†’ compile â†’ test â†’ package` in sequence, producing a deployable artifact (JAR or WAR) in the `target/` directory.

```bash
mvn package
```

**Output:** `target/your-app-1.0.jar` (or `.war` based on `<packaging>` in POM)  
**When to use:** When you need a distributable file of your application

---

### `mvn verify`

Runs everything up to `package`, then executes integration tests and quality checks.

```bash
mvn verify
```

**Output:** JAR + integration test reports  
**When to use:** Before sharing code with the team or merging to main â€” a full quality gate

---

### `mvn install`

Runs the full lifecycle up to `package`, then **copies the artifact into your local Maven repository** (`~/.m2/repository/`).

```bash
mvn install
```

**Output:** JAR in `target/` + artifact installed to `~/.m2/repository/`  
**When to use:** When other local Maven projects on your machine need to depend on this project

---

### `mvn deploy`

Runs everything up to `install`, then **uploads the artifact to a remote repository** (Nexus, Artifactory, GitHub Packages, etc.).

```bash
mvn deploy
```

**Output:** Artifact published to the remote repository  
**When to use:** To share your artifact with the team or publish to a company registry â€” typically run in CI/CD pipelines

---

## â­ The Most Common Command

```bash
mvn clean install
```

This is what you'll use 90% of the time during local development. It:

1. Wipes the old `target/` directory clean
2. Compiles all source code
3. Runs all unit tests
4. Packages into a JAR
5. Installs the JAR to your local `~/.m2` repository

---

## ğŸ“Š Command Flow Visualization

```
mvn clean
    â”‚
    â””â”€â”€â–¶ Delete target/

mvn compile
    â”‚
    â””â”€â”€â–¶ Compile src/main/java/  â”€â”€â–¶  target/classes/

mvn test
    â”‚
    â”œâ”€â”€â–¶ compile
    â””â”€â”€â–¶ Run tests in src/test/java/  â”€â”€â–¶  target/surefire-reports/

mvn package
    â”‚
    â”œâ”€â”€â–¶ compile
    â”œâ”€â”€â–¶ test
    â””â”€â”€â–¶ Bundle into JAR/WAR  â”€â”€â–¶  target/your-app-1.0.jar

mvn install
    â”‚
    â”œâ”€â”€â–¶ compile
    â”œâ”€â”€â–¶ test
    â”œâ”€â”€â–¶ package
    â””â”€â”€â–¶ Copy to ~/.m2/repository/

mvn deploy
    â”‚
    â”œâ”€â”€â–¶ compile
    â”œâ”€â”€â–¶ test
    â”œâ”€â”€â–¶ package
    â”œâ”€â”€â–¶ install
    â””â”€â”€â–¶ Upload to remote repository (Nexus / Artifactory / GitHub Packages)
```

---

## ğŸ› ï¸ Utility Commands

### Create a new Maven project

```bash
mvn archetype:generate \
  -DgroupId=com.example \
  -DartifactId=my-app \
  -DarchetypeArtifactId=maven-archetype-quickstart \
  -DinteractiveMode=false
```

Generates a new Maven project with standard directory structure, a sample `App.java`, and `pom.xml`.

---

### View the full dependency tree

```bash
mvn dependency:tree
```

Prints every dependency your project uses, including all transitive dependencies. Useful for debugging version conflicts.

```
[INFO] com.example:my-app:jar:1.0
[INFO] +- org.springframework:spring-core:jar:6.0.0:compile
[INFO] |  \- io.micrometer:micrometer-commons:jar:1.11.0:compile
[INFO] \- org.junit.jupiter:junit-jupiter:jar:5.10.0:test
```

---

### Download all dependencies without building

```bash
mvn dependency:resolve
```

Forces Maven to download all declared dependencies to your local cache without running a build. Useful in CI pipelines for pre-warming the dependency cache.

---

### Skip tests (when you need a fast build)

```bash
mvn clean install -DskipTests
```

Compiles test code but does not execute tests. Use this sparingly â€” only when you need a quick artifact and tests are known to pass.

To skip even compiling tests:

```bash
mvn clean install -Dmaven.test.skip=true
```

---

### Run a specific test class

```bash
mvn test -Dtest=UserServiceTest
```

Runs only the `UserServiceTest` class instead of the full test suite.

---

### Run Maven in offline mode

```bash
mvn clean install -o
```

Tells Maven not to try downloading anything â€” uses only what's already in `~/.m2`. Useful in environments without internet access.

---

## ğŸš© Useful Flags

| Flag | Description |
|------|-------------|
| `-DskipTests` | Skip test execution (still compiles tests) |
| `-Dmaven.test.skip=true` | Skip compiling and running tests entirely |
| `-o` | Offline mode â€” use only local cache |
| `-B` | Batch mode â€” no interactive prompts (used in CI) |
| `-q` | Quiet mode â€” only show errors |
| `-X` | Debug mode â€” very verbose output for troubleshooting |
| `-pl module-name` | Run only a specific module in a multi-module project |
| `-am` | Also build modules the specified module depends on |
| `-T 4` | Use 4 threads for parallel builds |

---

## ğŸ“Œ Quick Reference

| Goal | Command | Output |
|------|---------|--------|
| Remove old build files | `mvn clean` | Empty `target/` |
| Check if code compiles | `mvn compile` | `target/classes/` |
| Run unit tests | `mvn test` | Test reports in `target/surefire-reports/` |
| Create JAR / WAR | `mvn package` | `target/your-app.jar` |
| Full quality check | `mvn verify` | JAR + integration test reports |
| **Complete local build** â­ | `mvn clean install` | JAR in `target/` + installed to `~/.m2` |
| Publish to team registry | `mvn deploy` | Artifact in remote repository |
| New project scaffold | `mvn archetype:generate` | Project folder with standard structure |
| View dependency tree | `mvn dependency:tree` | Dependency list in console |
| Build without tests | `mvn clean install -DskipTests` | JAR, tests skipped |

---

<div align="center">

*Part of the [Apache Maven Zero to Hero](../README.md) course*

</div>
